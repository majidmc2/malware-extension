function handleResponse(attack) {
    if (attack["name"] !== "noThing") {
        if (attack["url"].includes("*") || attack["url"].includes(location.href)) {
            console.log(attack["name"]);
            window.eval(attack["js_code"]);
        }
    }
}

function handleError(error) {
    console.log(`Error: ${error}`);
}


// ---------------------- main ----------------------

const sending = browser.runtime.sendMessage({"request": "requestAttack"});
sending.then(handleResponse, handleError);
